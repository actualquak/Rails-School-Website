<div class="container">
  <div class="row">
    <div class=".col-md-6 .col-sm-offset-3">
      <div class="title text-center">
        <h1 class="text-primary mt-3"><%= @article.title %></h1>
      </div>
      <div class="content">
        <p><%= @article.content %></p>
      </div>
      <% if current_user.try(:admin?) %>
          <%= link_to "Edit", edit_article_path(@article) %>
          <%= link_to "Destroy", article_path(@article),
                                method: :delete,
                                data: { confirm: "Are you sure?" } %>
      <% end %>
      <div class="comments">
        <% set_article_comments( article: @article.id ) %>
        <% if @article_comments.length != 0 %>
          <h3>Comments:</h3>
        <% end %>
        <% @article_comments.each do |article_comment| %>
          <div class="card">
            <div class="card-block">
              <div class="comment-content">
                <% get_user user: article_comment.user_id %>
                <p class="text-secondary mt-4 mx-5"><%= @user.name %></p>
                <p class="mx-5"><%= article_comment.content %></p>
              </div>
            </div>
          </div>
        <% end %>
        <% if user_signed_in? %>
          <h3 class="mt-5 mb-2">Post a comment:</h3>
          <%= bootstrap_form_with model: [ @article, @article.article_comments.build ] do |form| %>
            <%= form.text_field :content,
                                placeholder: "body",
                                class: "form-control" %>
            <%= form.submit 'Post comment' %>
          <% end %>
        <% else %>
          <h3 class="mt-5 mb-2">Log in to post a comment</h3>
        <% end %>
        <div class="mb-4"></div>
      </div>
    </div>
  </div>
</div>
